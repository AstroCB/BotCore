<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [login][1]
    -   [login][2]
        -   [Parameters][3]
    -   [dumpLogin][4]
        -   [Parameters][5]
    -   [loadLogin][6]
        -   [Parameters][7]
    -   [logout][8]
        -   [Parameters][9]
    -   [convert][10]
        -   [Parameters][11]
    -   [convertToFile][12]
        -   [Parameters][13]
-   [loginCallback][14]
    -   [Parameters][15]
-   [apiObj][16]
-   [credentialsObj][17]
    -   [Properties][18]
-   [genericErrCb][19]
    -   [Parameters][20]
-   [errDataCb][21]
    -   [Parameters][22]
-   [searchAttribute][23]
    -   [Parameters][24]
-   [monitoring][25]
    -   [monitor][26]
        -   [Parameters][27]
    -   [cancelMonitoring][28]
-   [retryLoginCallback][29]
    -   [Parameters][30]

## login

Login API
Provides various utilities for managing the login process, including
login/logout and import/export of appstate files.

Encapsulates the login by caching the appstate in memory.

### login

Call this to initialize the login module and log into Facebook using
[facebook-chat-api][31].

#### Parameters

-   `credentials` **[credentialsObj][32]** 
-   `callback` **[loginCallback][33]** called after login completed (successfully or unsuccessfully)
-   `forceCreds` **[Boolean][34]** if true, forces a login with credentials even if
    appstate exists (optional) (optional, default `false`)

### dumpLogin

Dumps the current login into a specified file.

#### Parameters

-   `filename` **[string][35]** Name of the file specifying where to store the login
-   `callback` **[genericErrCb][36]** Callback to use after writing the file

### loadLogin

Reads a new login into memory from a file.

#### Parameters

-   `filename` **[string][35]** Name of the file specifying where the imported login
    is stored
-   `callback` **[genericErrCb][36]** Callback to use after reading the login

### logout

Logs out of Facebook.

#### Parameters

-   `callback` **[errDataCb][37]** 

### convert

Converts a (NodeJS) facebook-chat-api appstate into a (Python) fb-chat
session.

#### Parameters

-   `filename` **[string][35]** Name of the file whose location contains the
    appstate data to be converted
-   `callback` **[errDataCb][37]** Callback to use after conversion completed,
    passed the converted session

### convertToFile

A variant of `convert` that directly outputs the converted session to a file.

#### Parameters

-   `appstate` **[string][35]** Location of appstate to be converted
-   `output` **[string][35]** Where to place the converted session
-   `callback` **[genericErrCb][36]** Callback called after conversion

## loginCallback

Type: [Function][38]

### Parameters

-   `err` **[string][35]** indicates errors (null if login is successful)
-   `api` **[apiObj][39]** null if login fails, see
    [facebook-chat-api][31] for details

## apiObj

An API instance of the facebook-chat-api (see 
[here][31] for details)

Type: [Object][40]

## credentialsObj

Type: [Object][40]

### Properties

-   `MEMCACHIER_USERNAME` **[string][35]** Memcachier username (from dashboard) for storage
-   `MEMCACHIER_PASSWORD` **[string][35]** Memcachier password (from dashboard) for storage
-   `MEMCACHIER_SERVERS` **[string][35]** Memcachier servers (from dashboard) for storage
-   `EMAIL` **[string][35]** Facebook account email for login (optional if already logged in once)
-   `PASSWORD` **[string][35]** Facebook account password for login (optional if already logged in once)

## genericErrCb

Type: [Function][38]

### Parameters

-   `err` **[string][35]** Message specifying the error (or null if none)

## errDataCb

Type: [Function][38]

### Parameters

-   `err` **[string][35]** Message specifying the error (or null if none)
-   `success` **[Object][40]** Data returned from the successful operation

## searchAttribute

facebook-chat-api appstates are an array of objects containing "key" and
"value" keys and additional properties (that the Python API doesn't use).

This function searches and extracts the value for the given key, discarding
the other information.

### Parameters

-   `data` **[Object][40]** facebook-chat-api appstate
-   `key` **[string][35]** The key to locate

Returns **[string][35]** The value of the key (or null if not found)

## monitoring

Monitoring API

Provides a basic utility for monitoring a running bot process. It is
configurable, with options to notify a maintainer if the bot goes down,
automatically retry logins for stale processes, and restart the bot process
entirely if all else fails.

### monitor

Begins monitoring a specified API instance.

#### Parameters

-   `apiInstance` **[apiObj][39]** An instance of the facebook-chat-api to monitor
-   `maintainerId` **[string][35]** User ID of the maintainer to notify on failures
-   `botName` **[string][35]** Name of the bot running
-   `credentialsObj` **[credentialsObj][32]** Object containing the user credentials
-   `botProcessRef` **[process][41]** Node.js process to monitor (optional)
-   `retryLoginCallback` **[retryLoginCallback][42]** A callback to send a new API
    instance to if login failed and a re-attempted login succeeded (optional –
    omitting this callback is equivalent to disabling the retry login feature)
-   `pingIntervalInMinutes` **[number][43]** The number of minutes between
    checks that the bot is still running (optional, default `10`)

### cancelMonitoring

Cancels the monitoring of the current bot process.

## retryLoginCallback

Type: [Function][38]

### Parameters

-   `api` **[apiObj][39]** A new instance of the facebook-chat-api after a successful login

[1]: #login

[2]: #login-1

[3]: #parameters

[4]: #dumplogin

[5]: #parameters-1

[6]: #loadlogin

[7]: #parameters-2

[8]: #logout

[9]: #parameters-3

[10]: #convert

[11]: #parameters-4

[12]: #converttofile

[13]: #parameters-5

[14]: #logincallback

[15]: #parameters-6

[16]: #apiobj

[17]: #credentialsobj

[18]: #properties

[19]: #genericerrcb

[20]: #parameters-7

[21]: #errdatacb

[22]: #parameters-8

[23]: #searchattribute

[24]: #parameters-9

[25]: #monitoring

[26]: #monitor

[27]: #parameters-10

[28]: #cancelmonitoring

[29]: #retrylogincallback

[30]: #parameters-11

[31]: https://github.com/Schmavery/facebook-chat-api

[32]: #credentialsobj

[33]: #logincallback

[34]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[35]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[36]: #genericerrcb

[37]: #errdatacb

[38]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[39]: #apiobj

[40]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[41]: https://nodejs.org/api/process.html

[42]: #retrylogincallback

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
